<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Krishavh Labs</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div class="bg-orbit"></div>
    <div class="bg-grid"></div>

    <main class="wrap">
      <header class="hero">
        <p class="eyebrow">Project Hub</p>
        <h1>Krishavh Labs</h1>
        <p class="subtitle">
          A growing collection of experiments, games, and brain-training tools.
        </p>
      </header>

      <section class="cards">
<!-- DAILY_CARD_START -->
        <article class="card">
          <h2>Daily Terminal Drop</h2>
          <p>Crimson Maze: Vault Code — 2026-02-25. Fresh terminal game released each morning.</p>
          <p class="daily-date">Created: <time datetime="2026-02-25">2026-02-25</time></p>
          <div class="meta">
            <span>Terminal</span>
            <span>Daily</span>
            <span>Creative</span>
          </div>
          <a class="cta" href="daily/2026_02_25_crimson_maze.py">View Today's Game</a>
        </article>
<!-- DAILY_CARD_END -->
        <article class="card">
          <h2>BrainAccelerator</h2>
          <p>
            Focus + memory training with math sprints, recall flashes, and a community
            leaderboard (online) or local mode (Pages).
          </p>
          <div class="meta">
            <span>Focus</span>
            <span>Memory</span>
            <span>Leaderboard</span>
          </div>
          <a class="cta" href="brainaccelerator.html">Launch BrainAccelerator</a>
        </article>

        <article class="card">
          <h2>Focus Dash</h2>
          <p>
            A 45-second timing game. Hit the focus zone to build streaks and push
            your score higher.
          </p>
          <div class="meta">
            <span>Timing</span>
            <span>Reflex</span>
            <span>Streaks</span>
          </div>
          <a class="cta" href="focus-dash.html">Play Focus Dash</a>
        </article>

        <article class="card ghost">
          <h2>What’s next?</h2>
          <p>
            More daily challenges, guided practice, and community features are on the way.
          </p>
          <div class="meta">
            <span>Daily</span>
            <span>Guided</span>
            <span>Community</span>
          </div>
          <span class="cta muted">Coming soon</span>
        </article>
      </section>

      <section class="daily-log">
        <div class="daily-header">
          <h2>Daily Drops Archive</h2>
          <div class="daily-controls">
            <button class="sort-btn active" data-sort="desc">Newest</button>
            <button class="sort-btn" data-sort="asc">Oldest</button>
          </div>
        </div>
        <ul class="daily-entries" id="daily-entries"></ul>
      </section>
    </main>

    <script>
      const entryList = document.getElementById("daily-entries");
      const sortButtons = Array.from(document.querySelectorAll(".sort-btn"));
      let entries = [];
      let sortOrder = "desc";

      const renderEntries = () => {
        if (!entryList) return;
        entryList.innerHTML = "";
        const sorted = [...entries].sort((a, b) => {
          if (sortOrder === "asc") return a.date.localeCompare(b.date);
          return b.date.localeCompare(a.date);
        });
        sorted.forEach((entry) => {
          const li = document.createElement("li");
          li.className = "daily-entry";
          li.innerHTML = `
            <div>
              <h3>${entry.title}</h3>
              <time datetime="${entry.date}">${entry.date}</time>
            </div>
            <a class="cta small" href="${entry.public_file}">Open</a>
          `;
          entryList.appendChild(li);
        });
      };

      sortButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          sortOrder = btn.dataset.sort || "desc";
          sortButtons.forEach((b) => b.classList.toggle("active", b === btn));
          renderEntries();
        });
      });

      fetch("daily/index.json")
        .then((resp) => resp.json())
        .then((data) => {
          entries = Array.isArray(data) ? data : [];
          renderEntries();
        })
        .catch(() => {
          if (entryList) {
            entryList.innerHTML = "<li class=\"daily-entry\">No archive yet.</li>";
          }
        });
    </script>
  </body>
</html>
